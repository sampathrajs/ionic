<!--
  Generated template for the ProductDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar hideBackButton="true">
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title align="center" (click)="gotohome()">Eshop</ion-title>
		<ion-buttons end>
			<button ion-button (click)="gotosearch()">
				<ion-icon name="search"></ion-icon>
			</button>
			<button ion-button (click)="gotocart()">
				<ion-icon name="ios-cart" >			
							
					<ion-badge id="notifications-badge" *ngIf="badgeCount>0" color="danger">{{badgeCount}}</ion-badge>
				</ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>
</ion-header>

<ion-content>
	<ion-grid>
		<ion-row>
			<ion-col col-12 align="right">
				<p ion-text color="primary" (click)="gotohome()">Back to Home</p>
			</ion-col>
			<ion-col col-12 no-padding align="center">
				<ion-slides pager>
					<ion-slide>
						<ion-img [ngClass]="'productimg'" src="{{selectedproduct.img}}">
						</ion-img>
					</ion-slide>
					<ion-slide>
						<ion-img [ngClass]="'productimg'" src="{{selectedproduct.img}}">
						</ion-img>
					</ion-slide>
					<ion-slide>
						<ion-img [ngClass]="'productimg'" src="{{selectedproduct.img}}">
						</ion-img>
					</ion-slide>
				</ion-slides>
			</ion-col>
			<ion-col col-12>
				<h5 ion-text color="dark">
					<strong>{{selectedproduct.name}}</strong>
				</h5>
				<p ion-text color="gray">{{selectedproduct.desc}}</p>
				<p ion-text>Price :
					<span ion-text color="danger">{{selectedproduct.price}}</span>
				</p>
			</ion-col>
			<ion-col col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3>
				<button ion-button block color="orange" icon-start (click)="addItem(selectedproduct)">
					<ion-icon name="cart"></ion-icon>
					Add to Cart
				</button>
			</ion-col>
			<ion-col col-12>
				<p color="dark">Related Products</p>
			</ion-col>

			<ion-col col-12 col-sm-6 col-md-4 *ngFor="let relproduct of selectedproduct.relevantProduct">
				<ion-card (click)="openproductpage(relproduct.id)">
					<ion-card-content>
						<ion-img [ngClass]="'relatedproductimg'" src="{{relproduct.img}}">
						</ion-img>
						<h5 ion-text color="dark">
							<strong>{{relproduct.name}}</strong>
						</h5>
						<p [ngClass]="'product ellipsis'" ion-text color="dark">{{relproduct.desc}}</p>
						<h4 [ngClass]="'details ellipsis'" ion-text color="danger">
							<b>{{relproduct.price}}</b>
						</h4>
					</ion-card-content>
				</ion-card>
			</ion-col>

		</ion-row>
	</ion-grid>
</ion-content>